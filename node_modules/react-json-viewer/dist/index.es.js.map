{"version":3,"file":"index.es.js","sources":["../src/util.js","../src/ValueViewer.js","../src/index.js"],"sourcesContent":["/**\n * Created by narendrasisodiya on 28/10/16.\n */\n\nvar ONE = 1;\nvar loopObject = function loopObject(obj, cb, sorted) {\n  var keys = Object.keys(obj);\n  if (sorted === true) {\n    keys.sort();\n  }\n  return keys.map(function(key) {\n    return cb(obj[key], key);\n  });\n};\nvar getSortedKeyString = function getSortedKeyString(obj) {\n  return Object.keys(obj)\n    .sort()\n    .join(',');\n};\nvar getType = function(val) {\n  return Object.prototype.toString.call(val).replace(/^\\[object\\s(.*)\\]$/, '$1');\n};\nvar getFirstEle = function getFirstEle(obj) {\n  return obj[Object.keys(obj)[0]];\n};\n\nvar allValuesSameInArray = function(arr) {\n  for (var i = 1; i < arr.length; i++) {\n    if (arr[i] !== arr[0]) {\n      return false;\n    }\n  }\n  return true;\n};\n\nvar checkIfArrayIsAOB = function checkIfArrayIsAOB(obj) {\n  if (getType(obj) === 'Array' && obj.length > ONE && getType(getFirstEle(obj)) === 'Object') {\n    var test = loopObject(obj, function(row) {\n      if (getType(row) === 'Object') {\n        return getSortedKeyString(row);\n      } else {\n        return '';\n      }\n    });\n    if (test.length > ONE && test[0].length > ONE) {\n      return allValuesSameInArray(test);\n    } else {\n      return false;\n    }\n  } else {\n    return false;\n  }\n};\nvar checkIfObjectIsOOB = function checkIfObjectIsOOB(obj) {\n  if (getType(obj) === 'Object' && Object.keys(obj).length > ONE && getType(getFirstEle(obj)) === 'Object') {\n    var test = loopObject(obj, function(row) {\n      if (getType(row) === 'Object') {\n        return getSortedKeyString(row);\n      } else {\n        return '';\n      }\n    });\n    if (test.length > ONE && test[0].length > ONE) {\n      return allValuesSameInArray(test);\n    } else {\n      return false;\n    }\n  } else {\n    return false;\n  }\n};\n\nmodule.exports = {\n  loopObject,\n  getSortedKeyString,\n  getType,\n  getFirstEle,\n  allValuesSameInArray,\n  checkIfArrayIsAOB,\n  checkIfObjectIsOOB,\n};\n","import React, { Component } from 'react';\n\nimport PropTypes from 'prop-types';\nimport { getType } from './util';\n\nclass ValueViewer extends Component {\n  constructor(props, context) {\n    super(props, context);\n  }\n\n  r() {\n    switch (getType(this.props.value)) {\n      case 'String':\n        return <span style={{ color: 'rgb(255, 65, 60)' }}>{`\"${this.props.value}\"`}</span>;\n      case 'Boolean':\n        return <span style={{ color: 'rgb(31, 48, 255)' }}>{`${this.props.value}`}</span>;\n      case 'Number':\n        return <span style={{ color: 'rgb(31, 49, 255)' }}>{`${this.props.value}`}</span>;\n      case 'Undefined':\n        return <i style={{ color: '#777777' }}>{'undefined'}</i>;\n      case 'Null':\n        return <i style={{ color: '#777777' }}>{'null'}</i>;\n      case 'Date':\n        return <i style={{ color: '#007bc7' }}>{`${JSON.stringify(this.props.value)}`}</i>;\n      default:\n        return <span style={{ color: 'rgb(31, 49, 255)' }}>{`${this.props.value}`}</span>;\n    }\n  }\n\n  render() {\n    return <span>{this.r()}</span>;\n  }\n}\nValueViewer.propTypes = {\n  value: PropTypes.any,\n};\nValueViewer.defaultProps = {};\nexport default ValueViewer;\n","import React, { Component } from 'react';\nimport { checkIfArrayIsAOB, checkIfObjectIsOOB, getFirstEle, getType, loopObject } from './util';\n\nimport PropTypes from 'prop-types';\nimport ValueViewer from './ValueViewer';\n\nexport default class JSONViewer extends Component {\n  static propTypes = {\n    json: PropTypes.any.isRequired,\n    tableProps: PropTypes.object,\n    trProps: PropTypes.object,\n    tdProps: PropTypes.object,\n    thProps: PropTypes.object,\n    tbodyProps: PropTypes.object,\n    theadProps: PropTypes.object,\n  };\n\n  static styles = {\n    td: {\n      border: '1px solid #cccccc',\n      textAlign: 'left',\n      margin: 0,\n      padding: '6px 13px',\n    },\n    th: {\n      border: '1px solid #cccccc',\n      textAlign: 'left',\n      margin: 0,\n      padding: '6px 13px',\n      fontWeight: 'bold',\n    },\n  };\n  static defaultProps = {};\n\n  renderHeaderByKeys(keys, addExtra) {\n    return (\n      <thead {...this.props.theadProps}>\n        <tr {...this.props.trProps}>\n          {(() => {\n            if (addExtra === 'addExtra') {\n              return (\n                <th {...this.props.thProps} style={this.constructor.styles.td}>\n                  <span style={{ color: 'rgb(111, 11, 11)' }} />\n                </th>\n              );\n            }\n          })()}\n          {keys.map((key, i) => {\n            return (\n              <th {...this.props.tdProps} key={i} style={this.constructor.styles.td}>\n                <span style={{ color: 'rgb(111, 11, 11)' }}>{key}</span>\n              </th>\n            );\n          })}\n        </tr>\n      </thead>\n    );\n  }\n\n  objToTable(obj) {\n    if (JSON.stringify(obj) === '{}') {\n      return '{ }';\n    } else {\n      return (\n        <table {...this.props.tableProps}>\n          {this.renderHeaderByKeys(Object.keys(obj))}\n          <tbody>\n            <tr {...this.props.trProps}>\n              {loopObject(obj, (v, key) => {\n                return this.renderTd(v, key);\n              })}\n            </tr>\n          </tbody>\n        </table>\n      );\n    }\n  }\n\n  arrayToTable(obj) {\n    if (getType(obj) === 'Array' && obj.length === 0) {\n      return '[ ]';\n    } else {\n      return (\n        <table {...this.props.tableProps}>\n          <tbody>\n            {loopObject(obj, (v, key) => {\n              return (\n                <tr key={key} {...this.props.trProps}>\n                  <td {...this.props.tdProps} style={this.constructor.styles.td}>{`${key}`}</td>\n                  {this.renderTd(v, key)}\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n      );\n    }\n  }\n\n  oobToTable(aob) {\n    return (\n      <table {...this.props.tableProps}>\n        {this.renderHeaderByKeys(Object.keys(getFirstEle(aob)), 'addExtra')}\n        <tbody>\n          {loopObject(aob, (row, j) => {\n            return (\n              <tr {...this.props.trProps} key={j}>\n                <td {...this.props.tdProps} style={this.constructor.styles.td}>\n                  <ValueViewer value={j} />\n                </td>\n                {loopObject(getFirstEle(aob), (val, key) => {\n                  return this.renderTd(row[key], key);\n                })}\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    );\n  }\n  renderTd(guess, index) {\n    return (\n      <td {...this.props.tdProps} key={index} style={this.constructor.styles.td}>\n        {this.decideAndRender(guess)}\n      </td>\n    );\n  }\n  decideAndRender(guess) {\n    if (getType(guess) === 'Array') {\n      if (checkIfArrayIsAOB(guess)) {\n        return this.aobToTable(guess);\n      } else {\n        return this.arrayToTable(guess);\n      }\n    }\n    if (getType(guess) === 'Object') {\n      if (checkIfObjectIsOOB(guess)) {\n        return this.oobToTable(guess);\n      } else {\n        return this.objToTable(guess);\n      }\n    } else {\n      return <ValueViewer value={guess} />;\n    }\n  }\n\n  aobToTable(aob) {\n    return (\n      <table {...this.props.tableProps}>\n        {this.renderHeaderByKeys(Object.keys(getFirstEle(aob)))}\n        <tbody {...this.props.tbodyProps}>\n          {loopObject(aob, (row, j) => {\n            return (\n              <tr {...this.props.trProps} key={j}>\n                {loopObject(getFirstEle(aob), (val, key) => {\n                  return this.renderTd(row[key], key);\n                })}\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    );\n  }\n\n  render() {\n    return <div>{this.decideAndRender(this.props.json)}</div>;\n  }\n}\n"],"names":["ONE","loopObject","obj","cb","sorted","keys","Object","sort","map","key","getSortedKeyString","join","getType","val","prototype","toString","call","replace","getFirstEle","allValuesSameInArray","arr","i","length","checkIfArrayIsAOB","test","row","checkIfObjectIsOOB","module","ValueViewer","props","context","value","color","JSON","stringify","r","Component","propTypes","PropTypes","any","defaultProps","JSONViewer","addExtra","theadProps","trProps","thProps","constructor","styles","td","tdProps","tableProps","renderHeaderByKeys","v","renderTd","aob","j","guess","index","decideAndRender","aobToTable","arrayToTable","oobToTable","objToTable","tbodyProps","json","isRequired","object"],"mappings":"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"}